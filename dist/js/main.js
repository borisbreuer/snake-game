!function(t){var e={};function r(i){if(e[i])return e[i].exports;var l=e[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)r.d(i,l,function(e){return t[e]}.bind(null,l));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);const i=document.querySelector("canvas"),l=i.getContext("2d"),o=(t,e)=>Math.random()*(e-t)+t;let s=0,a=0,n="normal bold 72px Impact";const h=()=>({x:20*Math.floor(o(0,i.width/20)),y:20*Math.floor(o(0,i.height/20))});class d{constructor(t,e,r,i){this.offset=2,this.x=t,this.y=e,this.r=r-this.offset,this.color=i,this.vel={x:2*(this.r+this.offset),y:2*(this.r+this.offset)},this.alpha=1,this.snake=[],this.bodyLength=0,this.dirVal=""}draw(){for(let t=0;t<this.snake.length;t++){this.snake.length;let e=0==t%2?[0,100,0]:[0,150,0],r=this.snake[t];l.fillStyle=`rgba(${e},1)`,l.lineWidth=1,l.strokeStyle="rgba(0,200,0, 1)",l.beginPath(),l.arc(r.x+this.r+this.offset,r.y+this.r+this.offset,this.r-2,0,2*Math.PI,!1),l.stroke(),l.fill(),l.closePath()}l.fillStyle=`rgba(20,200,20, ${this.alpha})`,l.lineWidth=1,l.strokeStyle="rgba(0,100,0, 1)",l.beginPath(),l.arc(this.x+this.r+this.offset,this.y+this.r+this.offset,this.r,0,2*Math.PI,!1),l.stroke(),l.fill(),l.closePath()}update(){this.bodyLength>0&&this.createBody(),this.move(),this.draw()}move(){"LEFT"==this.dirVal&&"RIGHT"!=this.dirVal?this.x-=this.vel.x:"UP"==this.dirVal&&"DOWN"!=this.dirVal?this.y-=this.vel.y:"RIGHT"==this.dirVal&&"LEFT"!=this.dirVal?this.x+=this.vel.x:"DOWN"==this.dirVal&&"UP"!=this.dirVal?this.y+=this.vel.y:this.dirVal}createBody(){"STOP"!=this.dirVal&&(this.snake.length>=this.bodyLength&&this.snake.splice(0,1),this.snake.push({x:this.x,y:this.y}))}addBody(){this.bodyLength+=1}tailCollision(){for(let t=0;t<this.snake.length;t++)if(this.x==this.snake[t].x&&this.y==this.snake[t].y&&t!=this.snake.length-1)return!0;return!1}borderCollision(){return this.x<0||this.x>=i.width||this.y<0||this.y>=i.height}}i.width=600,i.height=600;let u,f,c,y,g,b,p="RUN",v=document.querySelector("#scoreEl");const S=()=>clearInterval(u),x=()=>{u=setInterval(()=>{"PAUSE"==p?((()=>{l.save(),l.font=n;let t=l.measureText("Pause ...").width/2,e=l.createLinearGradient(i.width/2-t,0,i.width/2+t,0);e.addColorStop("0","rgb(0, 200, 0)"),e.addColorStop("0.5","rgb(255, 127, 0)"),e.addColorStop("1","rgb(0, 200, 0)"),l.shadowColor="black",l.shadowBlur=15,l.fillStyle=e,l.lineWidth=2,l.fillText("Pause ...",i.width/2-t,i.height/2+20),l.restore()})(),S()):"RUN"==p&&((()=>{l.fillStyle="rgb(200,127,50)",l.fillRect(0,0,i.width,i.height);let t="rgba(255,255,255,0.1)";for(let e=0;e<i.width;e++){for(let r=0;r<i.height;r++)(s%2==0&&a%2==1||s%2==1&&a%2==0)&&(l.fillStyle=t,l.fillRect(20*e,20*r,20,20)),a++;s++}})(),y.update(),y.x==f.x&&y.y==f.y&&(f=h(),y.addBody(),g++,v.textContent=g),(t=>{l.fillStyle="rgb(255,10,10)",l.fillRect(t.x+2,t.y+2,16,16)})(f)),(y.tailCollision()||y.borderCollision())&&(p="STOP",(()=>{l.save(),l.font=n;let t=l.measureText("Game Over").width/2,e=l.createLinearGradient(i.width/2-t,0,i.width/2+t,0);e.addColorStop("0","rgb(0, 200, 0)"),e.addColorStop("0.5","rgb(255, 127, 0)"),e.addColorStop("1","rgb(0, 200, 0)"),l.shadowColor="black",l.shadowBlur=15,l.fillStyle=e,l.lineWidth=2,l.fillText("Game Over".toLocaleUpperCase(),i.width/2-t,i.height/2+20),l.restore()})(),S())},b)},w=()=>{S(),p="RUN",g=0,b=100,v.textContent=g,f=h(),c=h(),y=new d(c.x,c.y,10,[200,200,200]),x()};w(),document.addEventListener("keydown",(function(t){"ArrowLeft"==t.key&&"RIGHT"!=y.dirVal?y.dirVal="LEFT":"ArrowUp"==t.key&&"DOWN"!=y.dirVal?y.dirVal="UP":"ArrowRight"==t.key&&"LEFT"!=y.dirVal?y.dirVal="RIGHT":"ArrowDown"==t.key&&"UP"!=y.dirVal?y.dirVal="DOWN":" "!=t.key&&"p"!=t.key.toLocaleLowerCase()||"RUN"!=p?" "!=t.key&&"p"!=t.key.toLocaleLowerCase()||"PAUSE"!=p?"s"==t.key.toLocaleLowerCase()&&"STOP"==p&&(w(),y.dirVal="STOP"):(x(),p="RUN"):p="PAUSE"}),!1);document.getElementById("btn_up").addEventListener("touchstart",t=>{t.preventDefault(),"DOWN"!=y.dirVal&&(y.dirVal="UP")},!1);document.getElementById("btn_left").addEventListener("touchstart",t=>{t.preventDefault(),"RIGHT"!=y.dirVal&&(y.dirVal="LEFT")},!1);document.getElementById("btn_down").addEventListener("touchstart",t=>{t.preventDefault(),"UP"!=y.dirVal&&(y.dirVal="DOWN")},!1);document.getElementById("btn_right").addEventListener("touchstart",t=>{t.preventDefault(),"LEFT"!=y.dirVal&&(y.dirVal="RIGHT")},!1);document.getElementById("btn_start").addEventListener("touchstart",t=>{t.preventDefault(),"STOP"==p&&(w(),y.dirVal="STOP")},!1);document.getElementById("btn_pause").addEventListener("touchstart",t=>{t.preventDefault(),"RUN"==p?p="PAUSE":"PAUSE"==p&&(x(),p="RUN")},!1)}]);